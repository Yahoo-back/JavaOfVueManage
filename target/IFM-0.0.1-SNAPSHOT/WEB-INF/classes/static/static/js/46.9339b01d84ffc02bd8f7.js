webpackJsonp([46],{Bwhm:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Card",[n("Row",[n("div",{staticClass:"demo-input-suffix"},[n("el-date-picker",{staticStyle:{"margin-left":"10px"},attrs:{type:"datetimerange","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:t.createTime,callback:function(e){t.createTime=e},expression:"createTime"}})],1),t._v(" "),n("div",{staticStyle:{"margin-top":"30px"},attrs:{id:"products"}})]),t._v(" "),n("el-button",{staticStyle:{"margin-left":"20px",float:"right","margin-top":"20px"},attrs:{type:"primary",size:"small"},on:{click:t.handleSearch}},[t._v("查询")]),t._v(" "),n("div",{staticStyle:{"margin-top":"50px",width:"100%",height:"400px"},attrs:{id:"visitChart"}})],1)],1)},i=[],r={render:a,staticRenderFns:i};e.a=r},KKh7:function(t,e,n){var a=n("yN/U");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("27501fa0",a,!0)},"MJc+":function(t,e,n){"use strict";function a(t){n("KKh7")}Object.defineProperty(e,"__esModule",{value:!0});var i=n("oh6x"),r=n("Bwhm"),o=n("VU/8"),d=a,c=o(i.a,r.a,d,null,null);e.default=c.exports},g3Lp:function(t,e,n){"use strict";function a(t){return n.i(h.a)({url:"/dataProduct/qryDataProductListBy1?pageSize="+t.pageSize+"&pageNum="+t.pageNum+"&product_name_cnd="+t.product_name_cnd+"&visit_time_FROM_cnd="+t.visit_time_FROM_cnd+"&visit_time_TO_cnd="+t.visit_time_TO_cnd,method:"get",data:t})}function i(t){return n.i(h.a)({url:"/dataProduct/qryDataProductListBy2?pageSize="+t.pageSize+"&pageNum="+t.pageNum+"&product_name_cnd="+t.product_name_cnd+"&visit_time_FROM_cnd="+t.visit_time_FROM_cnd+"&visit_time_TO_cnd="+t.visit_time_TO_cnd,method:"get",data:t})}function r(t){return n.i(h.a)({url:"/product/qryProductListAll?",method:"get",data:t})}function o(t){return n.i(h.a)({url:"/dataProduct/qryDataEchartsProductById?productId="+t.productId+"&daysFrom="+t.daysFrom+"&daysTo="+t.daysTo,method:"get",data:t})}function d(t){return n.i(h.a)({url:"/dataProduct/exportDataProductList?&product_name_cnd="+t.product_name_cnd+"&visit_time_FROM_cnd="+t.visit_time_FROM_cnd+"&visit_time_TO_cnd="+t.visit_time_TO_cnd,method:"get",data:t})}function c(t){return n.i(h.a)({url:"/dataSource/qryDataSourceSum?source_cnd="+t.source_cnd+"&visit_time_FROM_cnd="+t.visit_time_FROM_cnd+"&visit_time_TO_cnd="+t.visit_time_TO_cnd,method:"get",data:t})}function p(t){return n.i(h.a)({url:"/dataSource/qryDataSourceList?pageSize="+t.pageSize+"&pageNum="+t.pageNum+"&source_cnd="+t.source_cnd+"&visit_time_FROM_cnd="+t.visit_time_FROM_cnd+"&visit_time_TO_cnd="+t.visit_time_TO_cnd,method:"get",data:t})}function s(t){return n.i(h.a)({url:"/dataSource/qryDataEchartsSourceBySource?source="+t.source+"&daysFrom="+t.daysFrom+"&daysTo="+t.daysTo,method:"get",data:t})}function l(t){return n.i(h.a)({url:"/dataSource/qrySourceAll",method:"get",data:t})}function u(t){return n.i(h.a)({url:"/dataReport/qryDataFinanceReportList?pageSize="+t.pageSize+"&pageNum="+t.pageNum+"&source_cnd="+t.source_cnd+"&visit_time_FROM_cnd="+t.visit_time_FROM_cnd+"&visit_time_TO_cnd\t="+t.visit_time_TO_cnd,method:"get",data:t})}e.c=a,e.d=i,e.a=r,e.b=o,e.e=d,e.j=c,e.i=p,e.h=s,e.f=l,e.g=u;var h=n("Vo7i")},oh6x:function(t,e,n){"use strict";(function(t){var a=n("g3Lp"),i=n("XLwt");n.n(i);e.a={name:"productVisitStatisticsChart",data:function(){return{createTime:"",before:"",after:"",productId:"",id:"",i:"",item:"",productAll:[],productName:[],a:[],n:[],s:"",productEcharts:[],productEchart:[],form:{a:[]}}},methods:{getAllPro:function(){var e=this;n.i(a.a)({}).then(function(n){if(200==n.data.code){e.productAll=n.data.data;for(var a="",i=1;i<=e.productAll.length;i++)a+="<input type='checkbox' name='product_chose' value='"+e.productAll[i-1].id+"'><span>"+e.productAll[i-1].name+"</span>",t("#product").html(a)}})},changeCheck:function(t){t.id},getChart:function(){var e=this,i=[],r=[],o=[],d=0;this.createTime[0],this.createTime[1];n.i(a.a)({}).then(function(c){if(200==c.data.code)for(var p=c.data.data,s="",l=1;l<=p.length;l++)s+="<input type='checkbox' name='product_chose' value='"+p[l-1].id+"'><span>"+p[l-1].name+"</span>",t("#products").html(s),i.push(p[l-1].name),n.i(a.b)({productId:p[l-1].id,daysFrom:e.before,daysTo:e.after}).then(function(t){if(200==t.data.code){d++;var n=[];e.productEcharts=t.data.data;for(var a=0;a<e.productEcharts.length;a++)n.push(e.productEcharts[a].count),1==d&&o.push(e.productEcharts[a].click_date),a==e.productEcharts.length-1&&r.push({name:e.productEcharts[a].productName,type:"line",label:{normal:{show:!0,position:"insideRight"}},stack:e.productEcharts[a].productName,data:n});e.$echarts.init(document.getElementById("visitChart")).setOption({title:{text:"产品点击量统计"},tooltip:{trigger:"axis"},legend:{width:"93%",height:"100px",left:"4%",right:"3%",bottom:"80%",data:i},grid:{left:"3%",right:"4%",bottom:"3%",top:"30%",containLabel:!0},toolbox:{feature:{mark:{show:!0},dataView:{show:!0,readOnly:!0,lang:["","关闭"],optionToContent:function(t){var e=t.xAxis[0].data,n=t.series,a='<td  style="padding: 0 10px">时间</td>',i="";n.forEach(function(t){a+='<td style="padding: 0 10px">'+t.name+"</td>"});for(var r='<table border="1" class="table-echarts" style="width: 98%; margin-left:20px;border-collapse:collapse;font-size:14px;text-align:center"><tbody><tr>'+a+" </tr>",o=0,d=e.length;o<d;o++){for(var c=0;c<n.length;c++)i+="<td>"+n[c].data[o]+"</td>";r+='<tr><td style="padding: 0 34px !important;">'+e[o]+"</td>"+i+"</tr>",i=""}return r+="</tbody></table>"}},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:o},yAxis:{type:"value"},series:r})}}),l%12==0&&(s+="<br>")})},handleSearch:function(){var e=this,i=t("input[name='product_chose']:checked"),r=[],o=[],d=[],c=0;this.createTime[0],this.createTime[1];0==i.length&&(i=t("input[name='product_chose"));for(var p=0;p<i.length;p++){var s=i[p].value;n.i(a.b)({productId:s,daysFrom:void 0==this.createTime[0]?"":this.createTime[0],daysTo:void 0==this.createTime[1]?"":this.createTime[1]}).then(function(t){if(200==t.data.code){c++;var n=[];e.productEchart=t.data.data;for(var a=0;a<e.productEchart.length;a++)n.push(e.productEchart[a].count),1==c&&d.push(e.productEchart[a].click_date),a==e.productEchart.length-1&&(r.push(e.productEchart[a].productName),o.push({name:e.productEchart[a].productName,type:"line",label:{normal:{show:!0,position:"insideRight"}},stack:e.productEchart[a].productName,data:n}));e.$echarts.init(document.getElementById("visitChart")).setOption({title:{text:"产品点击量统计"},tooltip:{trigger:"axis"},legend:{width:"93%",height:"100px",left:"4%",right:"3%",bottom:"80%",data:r},grid:{left:"3%",right:"4%",bottom:"3%",top:"30%",containLabel:!0},toolbox:{feature:{mark:{show:!0},dataView:{show:!0,readOnly:!0,lang:["","关闭"],optionToContent:function(t){var e=t.xAxis[0].data,n=t.series,a='<td  style="padding: 0 10px">时间</td>',i="";n.forEach(function(t){a+='<td style="padding: 0 10px">'+t.name+"</td>"});for(var r='<table border="1" class="table-echarts" style="width: 98%; margin-left:20px;border-collapse:collapse;font-size:14px;text-align:center"><tbody><tr>'+a+" </tr>",o=0,d=e.length;o<d;o++){for(var c=0;c<n.length;c++)i+="<td>"+n[c].data[o]+"</td>";r+='<tr><td style="padding: 0 34px !important;">'+e[o]+"</td>"+i+"</tr>",i=""}return r+="</tbody></table>"}},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:d},yAxis:{type:"value"},series:o},!0)}})}}},computed:{timeAfter:function(){var t=new Date;return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":00:00"},timeBefore:function(){var t=new Date;return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+(t.getHours()-7)+":00:00"}},mounted:function(){this.after=this.timeAfter,this.before=this.timeBefore,this.getChart(),this.getAllPro(this.productAll)},created:function(){this.getChart(),this.getAllPro()},watch:{$route:function(){this.getChart(),this.getAllPro()}}}}).call(e,n("7t+N"))},"yN/U":function(t,e,n){e=t.exports=n("FZ+f")(!0),e.push([t.i,"\n.el-form-item__label {\n  font-size: 16px;\n  color: #000;\n}\n.main .single-page-con {\n  background: #fff;\n}\n.searchp {\n  float: left;\n  margin-left: 10px;\n  margin-top: 15px;\n}\n.el-table th {\n  background: #f0f2f5;\n}\n.ivu-row {\n  margin-left: 0px;\n}\n.margin-top-8 {\n  margin-top: 8px;\n}\n.margin-top-10 {\n  margin-top: 10px;\n}\n.margin-top-20 {\n  margin-top: 20px;\n}\n.margin-left-10 {\n  margin-left: 10px;\n}\n.margin-bottom-10 {\n  margin-bottom: 10px;\n}\n.margin-bottom-100 {\n  margin-bottom: 100px;\n}\n.margin-right-10 {\n  margin-right: 10px;\n}\n.padding-left-6 {\n  padding-left: 6px;\n}\n.padding-left-8 {\n  padding-left: 5px;\n}\n.padding-left-10 {\n  padding-left: 10px;\n}\n.padding-left-20 {\n  padding-left: 20px;\n}\n.height-100 {\n  height: 100%;\n}\n.height-120px {\n  height: 100px;\n}\n.height-200px {\n  height: 200px;\n}\n.height-492px {\n  height: 492px;\n}\n.height-460px {\n  height: 460px;\n}\n.line-gray {\n  height: 0;\n  border-bottom: 2px solid #dcdcdc;\n}\n.notwrap {\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.padding-left-5 {\n  padding-left: 10px;\n}\n[v-cloak] {\n  display: none;\n}\n","",{version:3,sources:["E:/ROOT/src/view/data/productVisitStatisticsChart.vue"],names:[],mappings:";AACA;EACE,gBAAgB;EAChB,YAAY;CACb;AACD;EACE,iBAAiB;CAClB;AACD;EACE,YAAY;EACZ,kBAAkB;EAClB,iBAAiB;CAClB;AACD;EACE,oBAAoB;CACrB;AACD;EACE,iBAAiB;CAClB;AACD;EACE,gBAAgB;CACjB;AACD;EACE,iBAAiB;CAClB;AACD;EACE,iBAAiB;CAClB;AACD;EACE,kBAAkB;CACnB;AACD;EACE,oBAAoB;CACrB;AACD;EACE,qBAAqB;CACtB;AACD;EACE,mBAAmB;CACpB;AACD;EACE,kBAAkB;CACnB;AACD;EACE,kBAAkB;CACnB;AACD;EACE,mBAAmB;CACpB;AACD;EACE,mBAAmB;CACpB;AACD;EACE,aAAa;CACd;AACD;EACE,cAAc;CACf;AACD;EACE,cAAc;CACf;AACD;EACE,cAAc;CACf;AACD;EACE,cAAc;CACf;AACD;EACE,UAAU;EACV,iCAAiC;CAClC;AACD;EACE,qBAAqB;EACrB,oBAAoB;EACpB,iBAAiB;EACjB,wBAAwB;CACzB;AACD;EACE,mBAAmB;CACpB;AACD;EACE,cAAc;CACf",file:"productVisitStatisticsChart.vue",sourcesContent:["\n.el-form-item__label {\n  font-size: 16px;\n  color: #000;\n}\n.main .single-page-con {\n  background: #fff;\n}\n.searchp {\n  float: left;\n  margin-left: 10px;\n  margin-top: 15px;\n}\n.el-table th {\n  background: #f0f2f5;\n}\n.ivu-row {\n  margin-left: 0px;\n}\n.margin-top-8 {\n  margin-top: 8px;\n}\n.margin-top-10 {\n  margin-top: 10px;\n}\n.margin-top-20 {\n  margin-top: 20px;\n}\n.margin-left-10 {\n  margin-left: 10px;\n}\n.margin-bottom-10 {\n  margin-bottom: 10px;\n}\n.margin-bottom-100 {\n  margin-bottom: 100px;\n}\n.margin-right-10 {\n  margin-right: 10px;\n}\n.padding-left-6 {\n  padding-left: 6px;\n}\n.padding-left-8 {\n  padding-left: 5px;\n}\n.padding-left-10 {\n  padding-left: 10px;\n}\n.padding-left-20 {\n  padding-left: 20px;\n}\n.height-100 {\n  height: 100%;\n}\n.height-120px {\n  height: 100px;\n}\n.height-200px {\n  height: 200px;\n}\n.height-492px {\n  height: 492px;\n}\n.height-460px {\n  height: 460px;\n}\n.line-gray {\n  height: 0;\n  border-bottom: 2px solid #dcdcdc;\n}\n.notwrap {\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.padding-left-5 {\n  padding-left: 10px;\n}\n[v-cloak] {\n  display: none;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=46.9339b01d84ffc02bd8f7.js.map