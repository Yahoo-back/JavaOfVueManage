{"version":3,"sources":["webpack:///static/js/45.b5bdc0dc725d8f96e7e0.js","webpack:///src/view/product/components/uploadImg.vue?1b4c***","webpack:///./src/view/product/components/uploadImg.vue?e628****","webpack:///./src/view/product/components/uploadImg.vue?492c****","webpack:///./src/view/product/components/uploadImg.vue?c8f9****","webpack:///./src/view/product/components/uploadImg.vue","webpack:///./src/api/upload.js?bb30***"],"names":["webpackJsonp","8OoA","module","__webpack_exports__","__webpack_require__","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","__WEBPACK_IMPORTED_MODULE_0__api_upload__","name","props","value","String","dataType","type","default","numLimit","Number","sizeLimit","fileType","Object","extensions","accept","token","watch","this","init","computed","allowAdd","images","data","uploading","mounted","methods","JSON","parse","imagesArray","split","temp","url","toleft","index","tempArray","concat","temp_data","emitInput","deleteItem","push","toright","selectFile","$refs","fileSelect","click","uploadImage","that","files","success","fail","err","$toast","title","$emit","stringify","imageUrls","join","Fu0i","exports","content","locals","I2BB","render","_vm","_h","$createElement","_c","_self","staticClass","_l","item","attrs","href","target","src","_v","on","$event","_e","ref","change","staticRenderFns","esExports","IpYf","version","sources","names","mappings","file","sourcesContent","sourceRoot","euW8","injectStyle","ssrContext","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_uploadImg_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_d26f176e_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_uploadImg_vue__","normalizeComponent","__vue_styles__","Component","uzBN","uploadfile","options","arguments","undefined","formdata","FormData","append","sessionStorage","getItem","__WEBPACK_IMPORTED_MODULE_0_axios___default","a","request","method","params","headers","Content-Type","Authorization","then","res","code","picPath","message","catch","d","upload","__WEBPACK_IMPORTED_MODULE_0_axios__","n"],"mappings":"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","file":"static/js/45.b5bdc0dc725d8f96e7e0.js","sourcesContent":["webpackJsonp([45],{\n\n/***/ \"8OoA\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__api_upload__ = __webpack_require__(\"uzBN\");\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'ImageUpload',\n  props: {\n    value: String,\n    dataType: {\n      type: String,\n      default: 'json'\n    },\n    numLimit: {\n      type: Number,\n      default: 5\n    },\n    sizeLimit: {\n      type: Number,\n      default: 2 * 1024 * 1024\n    },\n    fileType: {\n      type: Object,\n      default: function _default() {\n        return {\n          extensions: 'jpg,jpeg,png,gif', //允许的文件后缀\n          accept: 'image/jpg,image/jpeg,image/png,image/gif' //此处为了让文件选择的时候进行过滤\n        };\n      }\n    },\n    token: '' //如果七牛云直传，则设置token，否则通过服务器上传\n  },\n  watch: {\n    value: function value() {\n      this.init();\n    }\n  },\n  computed: {\n    allowAdd: function allowAdd() {\n      return this.images.length < this.numLimit;\n    }\n  },\n  data: function data() {\n    return {\n      images: [],\n      uploading: false\n    };\n  },\n  mounted: function mounted() {\n    this.init();\n  },\n  methods: {\n    init: function init() {\n      if (!this.value) {\n        this.images = [];\n        return;\n      }\n\n      if (this.dataType == 'json') {\n        this.images = JSON.parse(this.value);\n      } else {\n        var imagesArray = this.value.split(',');\n        var temp = [];\n        for (var i = 0; i < imagesArray.length; i++) {\n          temp[i] = {\n            // uuid:helper.randomString(16),\n            url: imagesArray[i]\n          };\n        }\n\n        this.images = temp;\n      }\n    },\n    toleft: function toleft(index) {\n      if (index == 0) {\n        return;\n      }\n\n      var tempArray = [].concat(_toConsumableArray(this.images));\n      var temp_data = tempArray[index];\n      tempArray[index] = tempArray[index - 1];\n      tempArray[index - 1] = temp_data;\n\n      this.images = tempArray;\n      this.emitInput();\n    },\n    deleteItem: function deleteItem(index) {\n      var tempArray = [];\n      for (var i = 0; i < this.images.length; i++) {\n        if (index != i) {\n          tempArray.push(this.images[i]);\n        }\n      }\n\n      this.images = tempArray;\n      this.emitInput();\n    },\n    toright: function toright(index) {\n      if (index == this.images.length - 1) {\n        return;\n      }\n\n      var tempArray = [].concat(_toConsumableArray(this.images));\n      var temp_data = tempArray[index];\n      tempArray[index] = tempArray[index + 1];\n      tempArray[index + 1] = temp_data;\n\n      this.images = tempArray;\n      this.emitInput();\n    },\n    selectFile: function selectFile() {\n      this.$refs.fileSelect.click();\n    },\n    // uploadImage:function () {\n    //   upload()\n    //   .then(res=> {\n    //     if(res.data.code == 200) {\n    //       this.$message.success(`${res.data.message}`)\n    //       this.logo = res.data.data.picPath\n    //       console.log(this.logo)\n    //     }else {\n    //       this.$message.error(`${res.data.message}`)\n    //       return false;\n    //     }\n    //   })\n    //   .catch((err) => {\n    //     console.log(err, 'error');\n    //   });\n\n    // },\n    uploadImage: function uploadImage() {\n      var that = this;\n\n      that.uploading = true;\n\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__api_upload__[\"a\" /* upload */])(this.$refs.fileSelect.files[0], {\n\n        sizeLimit: this.sizeLimit,\n        extensions: this.fileType.extensions,\n        // token:this.token,\n        success: function success(url) {\n          // console.log(url)\n          that.images.push({\n            // uuid:helper.randomString(16),\n            url: url\n          });\n          that.uploading = false;\n\n          that.emitInput();\n        },\n        fail: function fail(err) {\n          that.$toast({\n            title: err,\n            type: 'error'\n          });\n          that.uploading = false;\n        }\n\n      });\n\n      this.$refs.fileSelect.value = '';\n    },\n    emitInput: function emitInput() {\n      if (this.dataType == 'json') {\n        this.$emit('input', JSON.stringify(this.images));\n      } else {\n        //把图片地址提取出来\n        var imageUrls = [];\n        // console.log(imageUrls)\n        for (var i = 0; i < this.images.length; i++) {\n          imageUrls[i] = this.images[i].url;\n        }\n\n        this.$emit('input', imageUrls.join(','));\n      }\n    }\n\n  }\n});\n\n/***/ }),\n\n/***/ \"Fu0i\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"IpYf\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"6081c5dc\", content, true);\n\n/***/ }),\n\n/***/ \"I2BB\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('ul', {\n    staticClass: \"image-upload-view\"\n  }, [_vm._l((_vm.images), function(item, index) {\n    return [_c('li', {\n      staticClass: \"item\"\n    }, [_c('a', {\n      attrs: {\n        \"href\": item.url,\n        \"target\": \"_blank\"\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": item.url\n      }\n    })]), _vm._v(\" \"), _c('div', {\n      staticClass: \"item-btn\"\n    }, [(index > 0) ? _c('span', {\n      staticClass: \"left\",\n      on: {\n        \"click\": function($event) {\n          _vm.toleft(index)\n        }\n      }\n    }, [_vm._v(\"←\")]) : _vm._e(), _c('span', {\n      staticClass: \"delete\",\n      on: {\n        \"click\": function($event) {\n          _vm.deleteItem(index)\n        }\n      }\n    }, [_vm._v(\"删除\")]), (index < _vm.images.length - 1) ? _c('span', {\n      staticClass: \"right\",\n      on: {\n        \"click\": function($event) {\n          _vm.toright(index)\n        }\n      }\n    }, [_vm._v(\"→\")]) : _vm._e()])])]\n  }), _vm._v(\" \"), (_vm.allowAdd) ? _c('li', {\n    staticClass: \"item-add\"\n  }, [(!_vm.uploading) ? _c('a', {\n    staticClass: \"add\",\n    attrs: {\n      \"href\": \"javascript:\"\n    },\n    on: {\n      \"click\": _vm.selectFile\n    }\n  }, [_vm._v(\"+\")]) : _c('div', {\n    staticClass: \"loading\"\n  })]) : _vm._e()], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"image-upload-file\"\n  }, [_c('input', {\n    ref: \"fileSelect\",\n    attrs: {\n      \"type\": \"file\",\n      \"accept\": _vm.fileType.accept\n    },\n    on: {\n      \"change\": _vm.uploadImage\n    }\n  })])])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"IpYf\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\\n@keyframes rotateZ-data-v-d26f176e {\\n0% {\\n    transform: rotateZ(0);\\n}\\n100% {\\n    transform: rotateZ(360deg);\\n}\\n}\\n.image-upload-view[data-v-d26f176e] {\\n  list-style: none;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: start;\\n      justify-content: flex-start;\\n  -ms-flex-wrap: wrap;\\n      flex-wrap: wrap;\\n}\\n.image-upload-view li[data-v-d26f176e] {\\n  width: 200px;\\n  height: 200px;\\n  margin-right: 22px;\\n  margin-bottom: 10px;\\n  border: 1px dashed #d9d9d9;\\n  border-radius: 0;\\n  display: block;\\n  cursor: pointer;\\n  position: relative;\\n}\\n.image-upload-view .item-add[data-v-d26f176e] {\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: center;\\n      justify-content: center;\\n  -ms-flex-align: center;\\n      align-items: center;\\n}\\n.image-upload-view .item-add .loading[data-v-d26f176e] {\\n  width: 60px;\\n  height: 60px;\\n  border-bottom: 6px solid #ccc;\\n  border-top: 6px solid #ccc;\\n  border-left: 6px solid transparent;\\n  border-right: 6px solid transparent;\\n  border-radius: 100%;\\n  animation: rotateZ-data-v-d26f176e 1s linear infinite;\\n  /*animation-fill-mode: both;*/\\n}\\n.image-upload-view .item-add a[data-v-d26f176e] {\\n  display: block;\\n  width: 100%;\\n  height: 100%;\\n  line-height: 200px;\\n  text-align: center;\\n  font-size: 60px;\\n  color: #ccc;\\n  text-decoration: none;\\n}\\n.image-upload-view .item-add:hover a[data-v-d26f176e] {\\n  color: #666;\\n}\\n.image-upload-view .item[data-v-d26f176e] {\\n  overflow: hidden;\\n}\\n.image-upload-view .item img[data-v-d26f176e] {\\n  width: 100%;\\n  height: 100%;\\n}\\n.image-upload-view .item .item-btn[data-v-d26f176e] {\\n  position: absolute;\\n  left: 0;\\n  bottom: -30px;\\n  width: 100%;\\n  height: 30px;\\n  line-height: 30px;\\n  text-align: center;\\n  background: rgba(0, 0, 0, 0.5);\\n  transition: .3s;\\n  color: rgba(255, 255, 255, 0.6);\\n}\\n.image-upload-view .item .item-btn .left[data-v-d26f176e] {\\n  position: absolute;\\n  left: 10px;\\n  top: 0px;\\n}\\n.image-upload-view .item .item-btn .right[data-v-d26f176e] {\\n  position: absolute;\\n  right: 10px;\\n  top: 0px;\\n}\\n.image-upload-view .item:hover .item-btn[data-v-d26f176e] {\\n  bottom: 0;\\n}\\n.image-upload-file[data-v-d26f176e] {\\n  display: none;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"E:/ROOT/src/view/product/components/uploadImg.vue\"],\"names\":[],\"mappings\":\";AACA;AACA;IACI,sBAAsB;CACzB;AACD;IACI,2BAA2B;CAC9B;CACA;AACD;EACE,iBAAiB;EACjB,qBAAqB;EACrB,cAAc;EACd,qBAAqB;MACjB,4BAA4B;EAChC,oBAAoB;MAChB,gBAAgB;CACrB;AACD;EACE,aAAa;EACb,cAAc;EACd,mBAAmB;EACnB,oBAAoB;EACpB,2BAA2B;EAC3B,iBAAiB;EACjB,eAAe;EACf,gBAAgB;EAChB,mBAAmB;CACpB;AACD;EACE,qBAAqB;EACrB,cAAc;EACd,sBAAsB;MAClB,wBAAwB;EAC5B,uBAAuB;MACnB,oBAAoB;CACzB;AACD;EACE,YAAY;EACZ,aAAa;EACb,8BAA8B;EAC9B,2BAA2B;EAC3B,mCAAmC;EACnC,oCAAoC;EACpC,oBAAoB;EACpB,sDAAsD;EACtD,8BAA8B;CAC/B;AACD;EACE,eAAe;EACf,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,mBAAmB;EACnB,gBAAgB;EAChB,YAAY;EACZ,sBAAsB;CACvB;AACD;EACE,YAAY;CACb;AACD;EACE,iBAAiB;CAClB;AACD;EACE,YAAY;EACZ,aAAa;CACd;AACD;EACE,mBAAmB;EACnB,QAAQ;EACR,cAAc;EACd,YAAY;EACZ,aAAa;EACb,kBAAkB;EAClB,mBAAmB;EACnB,+BAA+B;EAC/B,gBAAgB;EAChB,gCAAgC;CACjC;AACD;EACE,mBAAmB;EACnB,WAAW;EACX,SAAS;CACV;AACD;EACE,mBAAmB;EACnB,YAAY;EACZ,SAAS;CACV;AACD;EACE,UAAU;CACX;AACD;EACE,cAAc;CACf\",\"file\":\"uploadImg.vue\",\"sourcesContent\":[\"\\n@keyframes rotateZ-data-v-d26f176e {\\n0% {\\n    transform: rotateZ(0);\\n}\\n100% {\\n    transform: rotateZ(360deg);\\n}\\n}\\n.image-upload-view[data-v-d26f176e] {\\n  list-style: none;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: start;\\n      justify-content: flex-start;\\n  -ms-flex-wrap: wrap;\\n      flex-wrap: wrap;\\n}\\n.image-upload-view li[data-v-d26f176e] {\\n  width: 200px;\\n  height: 200px;\\n  margin-right: 22px;\\n  margin-bottom: 10px;\\n  border: 1px dashed #d9d9d9;\\n  border-radius: 0;\\n  display: block;\\n  cursor: pointer;\\n  position: relative;\\n}\\n.image-upload-view .item-add[data-v-d26f176e] {\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: center;\\n      justify-content: center;\\n  -ms-flex-align: center;\\n      align-items: center;\\n}\\n.image-upload-view .item-add .loading[data-v-d26f176e] {\\n  width: 60px;\\n  height: 60px;\\n  border-bottom: 6px solid #ccc;\\n  border-top: 6px solid #ccc;\\n  border-left: 6px solid transparent;\\n  border-right: 6px solid transparent;\\n  border-radius: 100%;\\n  animation: rotateZ-data-v-d26f176e 1s linear infinite;\\n  /*animation-fill-mode: both;*/\\n}\\n.image-upload-view .item-add a[data-v-d26f176e] {\\n  display: block;\\n  width: 100%;\\n  height: 100%;\\n  line-height: 200px;\\n  text-align: center;\\n  font-size: 60px;\\n  color: #ccc;\\n  text-decoration: none;\\n}\\n.image-upload-view .item-add:hover a[data-v-d26f176e] {\\n  color: #666;\\n}\\n.image-upload-view .item[data-v-d26f176e] {\\n  overflow: hidden;\\n}\\n.image-upload-view .item img[data-v-d26f176e] {\\n  width: 100%;\\n  height: 100%;\\n}\\n.image-upload-view .item .item-btn[data-v-d26f176e] {\\n  position: absolute;\\n  left: 0;\\n  bottom: -30px;\\n  width: 100%;\\n  height: 30px;\\n  line-height: 30px;\\n  text-align: center;\\n  background: rgba(0, 0, 0, 0.5);\\n  transition: .3s;\\n  color: rgba(255, 255, 255, 0.6);\\n}\\n.image-upload-view .item .item-btn .left[data-v-d26f176e] {\\n  position: absolute;\\n  left: 10px;\\n  top: 0px;\\n}\\n.image-upload-view .item .item-btn .right[data-v-d26f176e] {\\n  position: absolute;\\n  right: 10px;\\n  top: 0px;\\n}\\n.image-upload-view .item:hover .item-btn[data-v-d26f176e] {\\n  bottom: 0;\\n}\\n.image-upload-file[data-v-d26f176e] {\\n  display: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"euW8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_uploadImg_vue__ = __webpack_require__(\"8OoA\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_d26f176e_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_uploadImg_vue__ = __webpack_require__(\"I2BB\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"Fu0i\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d26f176e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_uploadImg_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_d26f176e_hasScoped_true_node_modules_vue_loader_lib_selector_type_template_index_0_uploadImg_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"uzBN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return upload; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios__ = __webpack_require__(\"mtWM\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_axios__);\n\n\nfunction uploadfile(file) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // let filename=file.name\n  // let filesize=file.size\n  // let type=filename.substr(filename.indexOf('.')+1).toLowerCase();\n  var formdata = new FormData();\n  formdata.append('file', file);\n\n  var token = sessionStorage.getItem('token');\n  __WEBPACK_IMPORTED_MODULE_0_axios___default.a.request({\n    url: 'http://47.96.101.223:8003/main/upload',\n    method: 'post',\n    params: {\n      // Authorization:token\n    },\n    data: formdata,\n    headers: {\n      'Content-Type': 'multipart/form-data',\n      'Authorization': token\n    }\n  }).then(function (res) {\n    var data = res.data;\n    // console.log(data)\n    if (data.code == 200) {\n      options.success && options.success(data.data.picPath);\n      return true;\n    } else {\n      options.fail && options.fail(data.message);\n      return false;\n    }\n\n    // if(options.token){\n    //   options.success&&options.success(data['host']+data['key'])\n    //   return true\n    // }else {\n    //   if(data.code=='1'){\n    //     options.success&&options.success(data.data.filename)\n    //     return true\n    //   }else {\n    //     options.fail&&options.fail(data.msg)\n    //     return false\n    //   }\n    // }\n  }).catch(function (err) {\n    // options.fail&&options.fail(err)\n    return false;\n  });\n}\nvar upload = uploadfile;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/45.b5bdc0dc725d8f96e7e0.js","<template>\r\n  <div>\r\n    <ul class=\"image-upload-view\">\r\n      <template v-for=\"(item,index) in images\">\r\n        <li class=\"item\">\r\n          <a :href=\"item.url\" target=\"_blank\"><img :src=\"item.url\"></a>\r\n          <div class=\"item-btn\"><span class=\"left\" v-if=\"index>0\" @click=\"toleft(index)\">←</span><span class=\"delete\" @click=\"deleteItem(index)\">删除</span><span class=\"right\" v-if=\"index<images.length-1\" @click=\"toright(index)\">→</span></div>\r\n        </li>\r\n      </template>\r\n      <li class=\"item-add\" v-if=\"allowAdd\">\r\n        <a class=\"add\" href=\"javascript:\" @click=\"selectFile\" v-if=\"!uploading\">+</a>\r\n        <div class=\"loading\" v-else></div>\r\n      </li>\r\n    </ul>\r\n    <div class=\"image-upload-file\">\r\n        <input type=\"file\" ref=\"fileSelect\" :accept=\"fileType.accept\" @change=\"uploadImage\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {upload} from '../../../api/upload';\r\n\r\n  export default {\r\n    name:'ImageUpload',\r\n    props:{\r\n      value:String,\r\n      dataType:{\r\n        type:String,\r\n        default:'json'\r\n      },\r\n      numLimit:{\r\n        type:Number,\r\n        default:5\r\n      },\r\n      sizeLimit:{\r\n        type:Number,\r\n        default:2*1024*1024\r\n      },\r\n      fileType:{\r\n        type:Object,\r\n        default:function () {\r\n          return {\r\n            extensions:'jpg,jpeg,png,gif',    //允许的文件后缀\r\n            accept:'image/jpg,image/jpeg,image/png,image/gif',//此处为了让文件选择的时候进行过滤\r\n          }\r\n        }\r\n      },\r\n      token:'',//如果七牛云直传，则设置token，否则通过服务器上传\r\n    },\r\n    watch:{\r\n      value:function () {\r\n        this.init()\r\n      }\r\n    },\r\n    computed:{\r\n      allowAdd:function () {\r\n        return this.images.length<this.numLimit\r\n      }\r\n    },\r\n    data:function(){\r\n      return {\r\n        images:[],\r\n        uploading:false\r\n      }\r\n    },\r\n    mounted:function () {\r\n      this.init()\r\n    },\r\n    methods:{\r\n      init:function(){\r\n        if(!this.value){\r\n          this.images=[]\r\n          return\r\n        }\r\n\r\n        if(this.dataType=='json'){\r\n          this.images=JSON.parse(this.value)\r\n        }else {\r\n          let imagesArray=this.value.split(',')\r\n          let temp=[]\r\n          for(let i=0;i<imagesArray.length;i++){\r\n            temp[i]={\r\n              // uuid:helper.randomString(16),\r\n              url:imagesArray[i]\r\n            }\r\n          }\r\n\r\n          this.images=temp\r\n        }\r\n      },\r\n      toleft:function (index) {\r\n        if(index==0){\r\n          return\r\n        }\r\n\r\n        let tempArray=[...this.images]\r\n        let temp_data=tempArray[index]\r\n        tempArray[index]=tempArray[index-1]\r\n        tempArray[index-1]=temp_data\r\n\r\n        this.images=tempArray\r\n        this.emitInput()\r\n      },\r\n      deleteItem:function (index) {\r\n        let tempArray=[]\r\n        for(let i=0;i<this.images.length;i++){\r\n          if(index!=i){\r\n            tempArray.push(this.images[i])\r\n          }\r\n        }\r\n\r\n        this.images=tempArray\r\n        this.emitInput()\r\n      },\r\n      toright:function (index) {\r\n        if(index==this.images.length-1){\r\n          return\r\n        }\r\n\r\n        let tempArray=[...this.images]\r\n        let temp_data=tempArray[index]\r\n        tempArray[index]=tempArray[index+1]\r\n        tempArray[index+1]=temp_data\r\n\r\n        this.images=tempArray\r\n        this.emitInput()\r\n      },\r\n      selectFile:function () {\r\n        this.$refs.fileSelect.click()\r\n\t\t\t},\r\n\t\t\t// uploadImage:function () {\r\n      //   upload()\r\n      //   .then(res=> {\r\n      //     if(res.data.code == 200) {\r\n      //       this.$message.success(`${res.data.message}`)\r\n      //       this.logo = res.data.data.picPath\r\n      //       console.log(this.logo)\r\n      //     }else {\r\n      //       this.$message.error(`${res.data.message}`)\r\n      //       return false;\r\n      //     }\r\n      //   })\r\n      //   .catch((err) => {\r\n      //     console.log(err, 'error');\r\n      //   });\r\n\r\n\t\t\t// },\r\n      uploadImage:function () {\r\n        let that=this\r\n\r\n        that.uploading=true\r\n\r\n        upload(this.$refs.fileSelect.files[0],{\r\n\t\t\t\t\t\r\n          sizeLimit:this.sizeLimit,\r\n          extensions:this.fileType.extensions,\r\n          // token:this.token,\r\n          success:function (url) {\r\n\t\t\t\t\t\t// console.log(url)\r\n            that.images.push({\r\n              // uuid:helper.randomString(16),\r\n              url:url\r\n            })\r\n            that.uploading=false\r\n\r\n            that.emitInput()\r\n          },\r\n          fail:function (err) {\r\n            that.$toast({\r\n              title:err,\r\n              type:'error'\r\n            })\r\n            that.uploading=false\r\n          }\r\n\r\n        })\r\n\r\n        this.$refs.fileSelect.value=''\r\n      },\r\n      emitInput:function () {\r\n        if(this.dataType=='json'){\r\n          this.$emit('input',JSON.stringify(this.images))\r\n        }else {\r\n          //把图片地址提取出来\r\n\t\t\t\t\tlet imageUrls=[];\r\n\t\t\t\t\t// console.log(imageUrls)\r\n          for(let i=0;i<this.images.length;i++){\r\n            imageUrls[i]=this.images[i].url\r\n          }\r\n\r\n          this.$emit('input',imageUrls.join(','))\r\n        }\r\n\r\n\r\n      }\r\n\r\n    }\r\n  }\r\n</script>\r\n\r\n\r\n<style scoped lang=\"less\">\r\n  @keyframes rotateZ {\r\n    0%{\r\n      transform: rotateZ(0);\r\n    }\r\n    100%{\r\n      transform: rotateZ(360deg);\r\n    }\r\n  }\r\n\r\n  .image-upload-view{\r\n    list-style: none;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    flex-wrap: wrap;\r\n    li{\r\n      width: 200px;\r\n      height: 200px;\r\n      margin-right: 22px;\r\n      margin-bottom: 10px;\r\n      border: 1px dashed #d9d9d9;\r\n      border-radius: 0;\r\n      display: block;\r\n      cursor: pointer;\r\n      position: relative;\r\n    }\r\n    .item-add{\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      .loading{\r\n        width: 60px;\r\n        height: 60px;\r\n\r\n        border-bottom: 6px solid #ccc;\r\n        border-top: 6px solid #ccc;\r\n        border-left: 6px solid transparent;\r\n        border-right: 6px solid transparent;\r\n        border-radius: 100%;\r\n        animation: rotateZ 1s linear infinite;\r\n        /*animation-fill-mode: both;*/\r\n      }\r\n      a{\r\n        display: block;\r\n        width: 100%;\r\n        height: 100%;\r\n        line-height: 200px;\r\n        text-align: center;\r\n        font-size: 60px;\r\n        color: #ccc;\r\n        text-decoration: none;\r\n      }\r\n\r\n      &:hover a{\r\n        color: #666;\r\n      }\r\n    }\r\n    .item{\r\n      overflow: hidden;\r\n\r\n      img{\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n      .item-btn{\r\n        position: absolute;\r\n        left: 0;\r\n        bottom: -30px;\r\n        width: 100%;\r\n        height: 30px;\r\n        line-height: 30px;\r\n        text-align: center;\r\n        background: rgba(0,0,0,0.5);\r\n        transition: .3s;\r\n        color: rgba(255,255,255,0.6);\r\n\r\n        .left{\r\n          position: absolute;\r\n          left: 10px;\r\n          top: 0px;\r\n        }\r\n\r\n        .right{\r\n          position: absolute;\r\n          right: 10px;\r\n          top: 0px;\r\n        }\r\n\r\n      }\r\n\r\n      &:hover .item-btn{\r\n        bottom: 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  .image-upload-file{\r\n    display: none;\r\n  }\r\n\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/product/components/uploadImg.vue?32c21aaa","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d26f176e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/less-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./uploadImg.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"6081c5dc\", content, true);\n\n\n// WEBPACK FOOTER //\n// \"}!./~/vue-style-loader!./~/css-loader?{\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-d26f176e\",\"scoped\":true,\"hasInlineConfig\":false}!./~/less-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/view/product/components/uploadImg.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('ul', {\n    staticClass: \"image-upload-view\"\n  }, [_vm._l((_vm.images), function(item, index) {\n    return [_c('li', {\n      staticClass: \"item\"\n    }, [_c('a', {\n      attrs: {\n        \"href\": item.url,\n        \"target\": \"_blank\"\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": item.url\n      }\n    })]), _vm._v(\" \"), _c('div', {\n      staticClass: \"item-btn\"\n    }, [(index > 0) ? _c('span', {\n      staticClass: \"left\",\n      on: {\n        \"click\": function($event) {\n          _vm.toleft(index)\n        }\n      }\n    }, [_vm._v(\"←\")]) : _vm._e(), _c('span', {\n      staticClass: \"delete\",\n      on: {\n        \"click\": function($event) {\n          _vm.deleteItem(index)\n        }\n      }\n    }, [_vm._v(\"删除\")]), (index < _vm.images.length - 1) ? _c('span', {\n      staticClass: \"right\",\n      on: {\n        \"click\": function($event) {\n          _vm.toright(index)\n        }\n      }\n    }, [_vm._v(\"→\")]) : _vm._e()])])]\n  }), _vm._v(\" \"), (_vm.allowAdd) ? _c('li', {\n    staticClass: \"item-add\"\n  }, [(!_vm.uploading) ? _c('a', {\n    staticClass: \"add\",\n    attrs: {\n      \"href\": \"javascript:\"\n    },\n    on: {\n      \"click\": _vm.selectFile\n    }\n  }, [_vm._v(\"+\")]) : _c('div', {\n    staticClass: \"loading\"\n  })]) : _vm._e()], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"image-upload-file\"\n  }, [_c('input', {\n    ref: \"fileSelect\",\n    attrs: {\n      \"type\": \"file\",\n      \"accept\": _vm.fileType.accept\n    },\n    on: {\n      \"change\": _vm.uploadImage\n    }\n  })])])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-d26f176e\",\"hasScoped\":true}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/view/product/components/uploadImg.vue\n// module id = I2BB\n// module chunks = 3 4 5 6 45","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n@keyframes rotateZ-data-v-d26f176e {\\n0% {\\n    transform: rotateZ(0);\\n}\\n100% {\\n    transform: rotateZ(360deg);\\n}\\n}\\n.image-upload-view[data-v-d26f176e] {\\n  list-style: none;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: start;\\n      justify-content: flex-start;\\n  -ms-flex-wrap: wrap;\\n      flex-wrap: wrap;\\n}\\n.image-upload-view li[data-v-d26f176e] {\\n  width: 200px;\\n  height: 200px;\\n  margin-right: 22px;\\n  margin-bottom: 10px;\\n  border: 1px dashed #d9d9d9;\\n  border-radius: 0;\\n  display: block;\\n  cursor: pointer;\\n  position: relative;\\n}\\n.image-upload-view .item-add[data-v-d26f176e] {\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: center;\\n      justify-content: center;\\n  -ms-flex-align: center;\\n      align-items: center;\\n}\\n.image-upload-view .item-add .loading[data-v-d26f176e] {\\n  width: 60px;\\n  height: 60px;\\n  border-bottom: 6px solid #ccc;\\n  border-top: 6px solid #ccc;\\n  border-left: 6px solid transparent;\\n  border-right: 6px solid transparent;\\n  border-radius: 100%;\\n  animation: rotateZ-data-v-d26f176e 1s linear infinite;\\n  /*animation-fill-mode: both;*/\\n}\\n.image-upload-view .item-add a[data-v-d26f176e] {\\n  display: block;\\n  width: 100%;\\n  height: 100%;\\n  line-height: 200px;\\n  text-align: center;\\n  font-size: 60px;\\n  color: #ccc;\\n  text-decoration: none;\\n}\\n.image-upload-view .item-add:hover a[data-v-d26f176e] {\\n  color: #666;\\n}\\n.image-upload-view .item[data-v-d26f176e] {\\n  overflow: hidden;\\n}\\n.image-upload-view .item img[data-v-d26f176e] {\\n  width: 100%;\\n  height: 100%;\\n}\\n.image-upload-view .item .item-btn[data-v-d26f176e] {\\n  position: absolute;\\n  left: 0;\\n  bottom: -30px;\\n  width: 100%;\\n  height: 30px;\\n  line-height: 30px;\\n  text-align: center;\\n  background: rgba(0, 0, 0, 0.5);\\n  transition: .3s;\\n  color: rgba(255, 255, 255, 0.6);\\n}\\n.image-upload-view .item .item-btn .left[data-v-d26f176e] {\\n  position: absolute;\\n  left: 10px;\\n  top: 0px;\\n}\\n.image-upload-view .item .item-btn .right[data-v-d26f176e] {\\n  position: absolute;\\n  right: 10px;\\n  top: 0px;\\n}\\n.image-upload-view .item:hover .item-btn[data-v-d26f176e] {\\n  bottom: 0;\\n}\\n.image-upload-file[data-v-d26f176e] {\\n  display: none;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"E:/ROOT/src/view/product/components/uploadImg.vue\"],\"names\":[],\"mappings\":\";AACA;AACA;IACI,sBAAsB;CACzB;AACD;IACI,2BAA2B;CAC9B;CACA;AACD;EACE,iBAAiB;EACjB,qBAAqB;EACrB,cAAc;EACd,qBAAqB;MACjB,4BAA4B;EAChC,oBAAoB;MAChB,gBAAgB;CACrB;AACD;EACE,aAAa;EACb,cAAc;EACd,mBAAmB;EACnB,oBAAoB;EACpB,2BAA2B;EAC3B,iBAAiB;EACjB,eAAe;EACf,gBAAgB;EAChB,mBAAmB;CACpB;AACD;EACE,qBAAqB;EACrB,cAAc;EACd,sBAAsB;MAClB,wBAAwB;EAC5B,uBAAuB;MACnB,oBAAoB;CACzB;AACD;EACE,YAAY;EACZ,aAAa;EACb,8BAA8B;EAC9B,2BAA2B;EAC3B,mCAAmC;EACnC,oCAAoC;EACpC,oBAAoB;EACpB,sDAAsD;EACtD,8BAA8B;CAC/B;AACD;EACE,eAAe;EACf,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,mBAAmB;EACnB,gBAAgB;EAChB,YAAY;EACZ,sBAAsB;CACvB;AACD;EACE,YAAY;CACb;AACD;EACE,iBAAiB;CAClB;AACD;EACE,YAAY;EACZ,aAAa;CACd;AACD;EACE,mBAAmB;EACnB,QAAQ;EACR,cAAc;EACd,YAAY;EACZ,aAAa;EACb,kBAAkB;EAClB,mBAAmB;EACnB,+BAA+B;EAC/B,gBAAgB;EAChB,gCAAgC;CACjC;AACD;EACE,mBAAmB;EACnB,WAAW;EACX,SAAS;CACV;AACD;EACE,mBAAmB;EACnB,YAAY;EACZ,SAAS;CACV;AACD;EACE,UAAU;CACX;AACD;EACE,cAAc;CACf\",\"file\":\"uploadImg.vue\",\"sourcesContent\":[\"\\n@keyframes rotateZ-data-v-d26f176e {\\n0% {\\n    transform: rotateZ(0);\\n}\\n100% {\\n    transform: rotateZ(360deg);\\n}\\n}\\n.image-upload-view[data-v-d26f176e] {\\n  list-style: none;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: start;\\n      justify-content: flex-start;\\n  -ms-flex-wrap: wrap;\\n      flex-wrap: wrap;\\n}\\n.image-upload-view li[data-v-d26f176e] {\\n  width: 200px;\\n  height: 200px;\\n  margin-right: 22px;\\n  margin-bottom: 10px;\\n  border: 1px dashed #d9d9d9;\\n  border-radius: 0;\\n  display: block;\\n  cursor: pointer;\\n  position: relative;\\n}\\n.image-upload-view .item-add[data-v-d26f176e] {\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: center;\\n      justify-content: center;\\n  -ms-flex-align: center;\\n      align-items: center;\\n}\\n.image-upload-view .item-add .loading[data-v-d26f176e] {\\n  width: 60px;\\n  height: 60px;\\n  border-bottom: 6px solid #ccc;\\n  border-top: 6px solid #ccc;\\n  border-left: 6px solid transparent;\\n  border-right: 6px solid transparent;\\n  border-radius: 100%;\\n  animation: rotateZ-data-v-d26f176e 1s linear infinite;\\n  /*animation-fill-mode: both;*/\\n}\\n.image-upload-view .item-add a[data-v-d26f176e] {\\n  display: block;\\n  width: 100%;\\n  height: 100%;\\n  line-height: 200px;\\n  text-align: center;\\n  font-size: 60px;\\n  color: #ccc;\\n  text-decoration: none;\\n}\\n.image-upload-view .item-add:hover a[data-v-d26f176e] {\\n  color: #666;\\n}\\n.image-upload-view .item[data-v-d26f176e] {\\n  overflow: hidden;\\n}\\n.image-upload-view .item img[data-v-d26f176e] {\\n  width: 100%;\\n  height: 100%;\\n}\\n.image-upload-view .item .item-btn[data-v-d26f176e] {\\n  position: absolute;\\n  left: 0;\\n  bottom: -30px;\\n  width: 100%;\\n  height: 30px;\\n  line-height: 30px;\\n  text-align: center;\\n  background: rgba(0, 0, 0, 0.5);\\n  transition: .3s;\\n  color: rgba(255, 255, 255, 0.6);\\n}\\n.image-upload-view .item .item-btn .left[data-v-d26f176e] {\\n  position: absolute;\\n  left: 10px;\\n  top: 0px;\\n}\\n.image-upload-view .item .item-btn .right[data-v-d26f176e] {\\n  position: absolute;\\n  right: 10px;\\n  top: 0px;\\n}\\n.image-upload-view .item:hover .item-btn[data-v-d26f176e] {\\n  bottom: 0;\\n}\\n.image-upload-file[data-v-d26f176e] {\\n  display: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-d26f176e\",\"scoped\":true,\"hasInlineConfig\":false}!./~/less-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/view/product/components/uploadImg.vue\n// module id = IpYf\n// module chunks = 3 4 5 6 45","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d26f176e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./uploadImg.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./uploadImg.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d26f176e\\\",\\\"hasScoped\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./uploadImg.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d26f176e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/product/components/uploadImg.vue\n// module id = euW8\n// module chunks = 3 4 5 6 45","import axios from 'axios';\r\n\r\nfunction uploadfile(file,options={}) {\r\n    // let filename=file.name\r\n    // let filesize=file.size\r\n    // let type=filename.substr(filename.indexOf('.')+1).toLowerCase();\r\n    let formdata=new FormData();\r\n    formdata.append('file',file);\r\n\r\nconst token=sessionStorage.getItem('token')\r\naxios.request({\r\n    url: 'http://47.96.101.223:8003/main/upload',\r\n    method:'post',\r\n    params:{\r\n        // Authorization:token\r\n    },\r\n    data:formdata,\r\n    headers:{\r\n      'Content-Type':'multipart/form-data',\r\n      'Authorization':token\r\n    },\r\n  })\r\n  .then((res)=>{\r\n    let data=res.data\r\n    // console.log(data)\r\n    if(data.code == 200) {\r\n      options.success&&options.success(data.data.picPath)\r\n      return true\r\n    }else {\r\n      options.fail&&options.fail(data.message)\r\n      return false\r\n    }\r\n\r\n    // if(options.token){\r\n    //   options.success&&options.success(data['host']+data['key'])\r\n    //   return true\r\n    // }else {\r\n    //   if(data.code=='1'){\r\n    //     options.success&&options.success(data.data.filename)\r\n    //     return true\r\n    //   }else {\r\n    //     options.fail&&options.fail(data.msg)\r\n    //     return false\r\n    //   }\r\n    // }\r\n\r\n  }).catch((err)=>{\r\n    // options.fail&&options.fail(err)\r\n    return false\r\n  })\r\n}\r\n  export const upload=uploadfile\n\n\n// WEBPACK FOOTER //\n// ./src/api/upload.js"],"sourceRoot":""}