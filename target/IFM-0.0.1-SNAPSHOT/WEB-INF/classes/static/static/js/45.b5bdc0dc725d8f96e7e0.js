webpackJsonp([45],{"8OoA":function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var a=n("uzBN");e.a={name:"ImageUpload",props:{value:String,dataType:{type:String,default:"json"},numLimit:{type:Number,default:5},sizeLimit:{type:Number,default:2097152},fileType:{type:Object,default:function(){return{extensions:"jpg,jpeg,png,gif",accept:"image/jpg,image/jpeg,image/png,image/gif"}}},token:""},watch:{value:function(){this.init()}},computed:{allowAdd:function(){return this.images.length<this.numLimit}},data:function(){return{images:[],uploading:!1}},mounted:function(){this.init()},methods:{init:function(){if(!this.value)return void(this.images=[]);if("json"==this.dataType)this.images=JSON.parse(this.value);else{for(var t=this.value.split(","),e=[],n=0;n<t.length;n++)e[n]={url:t[n]};this.images=e}},toleft:function(t){if(0!=t){var e=[].concat(i(this.images)),n=e[t];e[t]=e[t-1],e[t-1]=n,this.images=e,this.emitInput()}},deleteItem:function(t){for(var e=[],n=0;n<this.images.length;n++)t!=n&&e.push(this.images[n]);this.images=e,this.emitInput()},toright:function(t){if(t!=this.images.length-1){var e=[].concat(i(this.images)),n=e[t];e[t]=e[t+1],e[t+1]=n,this.images=e,this.emitInput()}},selectFile:function(){this.$refs.fileSelect.click()},uploadImage:function(){var t=this;t.uploading=!0,n.i(a.a)(this.$refs.fileSelect.files[0],{sizeLimit:this.sizeLimit,extensions:this.fileType.extensions,success:function(e){t.images.push({url:e}),t.uploading=!1,t.emitInput()},fail:function(e){t.$toast({title:e,type:"error"}),t.uploading=!1}}),this.$refs.fileSelect.value=""},emitInput:function(){if("json"==this.dataType)this.$emit("input",JSON.stringify(this.images));else{for(var t=[],e=0;e<this.images.length;e++)t[e]=this.images[e].url;this.$emit("input",t.join(","))}}}}},Fu0i:function(t,e,n){var i=n("IpYf");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("6081c5dc",i,!0)},I2BB:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",{staticClass:"image-upload-view"},[t._l(t.images,function(e,i){return[n("li",{staticClass:"item"},[n("a",{attrs:{href:e.url,target:"_blank"}},[n("img",{attrs:{src:e.url}})]),t._v(" "),n("div",{staticClass:"item-btn"},[i>0?n("span",{staticClass:"left",on:{click:function(e){t.toleft(i)}}},[t._v("←")]):t._e(),n("span",{staticClass:"delete",on:{click:function(e){t.deleteItem(i)}}},[t._v("删除")]),i<t.images.length-1?n("span",{staticClass:"right",on:{click:function(e){t.toright(i)}}},[t._v("→")]):t._e()])])]}),t._v(" "),t.allowAdd?n("li",{staticClass:"item-add"},[t.uploading?n("div",{staticClass:"loading"}):n("a",{staticClass:"add",attrs:{href:"javascript:"},on:{click:t.selectFile}},[t._v("+")])]):t._e()],2),t._v(" "),n("div",{staticClass:"image-upload-file"},[n("input",{ref:"fileSelect",attrs:{type:"file",accept:t.fileType.accept},on:{change:t.uploadImage}})])])},a=[],o={render:i,staticRenderFns:a};e.a=o},IpYf:function(t,e,n){e=t.exports=n("FZ+f")(!0),e.push([t.i,"\n@keyframes rotateZ-data-v-d26f176e {\n0% {\n    transform: rotateZ(0);\n}\n100% {\n    transform: rotateZ(360deg);\n}\n}\n.image-upload-view[data-v-d26f176e] {\n  list-style: none;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: start;\n      justify-content: flex-start;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.image-upload-view li[data-v-d26f176e] {\n  width: 200px;\n  height: 200px;\n  margin-right: 22px;\n  margin-bottom: 10px;\n  border: 1px dashed #d9d9d9;\n  border-radius: 0;\n  display: block;\n  cursor: pointer;\n  position: relative;\n}\n.image-upload-view .item-add[data-v-d26f176e] {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.image-upload-view .item-add .loading[data-v-d26f176e] {\n  width: 60px;\n  height: 60px;\n  border-bottom: 6px solid #ccc;\n  border-top: 6px solid #ccc;\n  border-left: 6px solid transparent;\n  border-right: 6px solid transparent;\n  border-radius: 100%;\n  animation: rotateZ-data-v-d26f176e 1s linear infinite;\n  /*animation-fill-mode: both;*/\n}\n.image-upload-view .item-add a[data-v-d26f176e] {\n  display: block;\n  width: 100%;\n  height: 100%;\n  line-height: 200px;\n  text-align: center;\n  font-size: 60px;\n  color: #ccc;\n  text-decoration: none;\n}\n.image-upload-view .item-add:hover a[data-v-d26f176e] {\n  color: #666;\n}\n.image-upload-view .item[data-v-d26f176e] {\n  overflow: hidden;\n}\n.image-upload-view .item img[data-v-d26f176e] {\n  width: 100%;\n  height: 100%;\n}\n.image-upload-view .item .item-btn[data-v-d26f176e] {\n  position: absolute;\n  left: 0;\n  bottom: -30px;\n  width: 100%;\n  height: 30px;\n  line-height: 30px;\n  text-align: center;\n  background: rgba(0, 0, 0, 0.5);\n  transition: .3s;\n  color: rgba(255, 255, 255, 0.6);\n}\n.image-upload-view .item .item-btn .left[data-v-d26f176e] {\n  position: absolute;\n  left: 10px;\n  top: 0px;\n}\n.image-upload-view .item .item-btn .right[data-v-d26f176e] {\n  position: absolute;\n  right: 10px;\n  top: 0px;\n}\n.image-upload-view .item:hover .item-btn[data-v-d26f176e] {\n  bottom: 0;\n}\n.image-upload-file[data-v-d26f176e] {\n  display: none;\n}\n","",{version:3,sources:["E:/ROOT/src/view/product/components/uploadImg.vue"],names:[],mappings:";AACA;AACA;IACI,sBAAsB;CACzB;AACD;IACI,2BAA2B;CAC9B;CACA;AACD;EACE,iBAAiB;EACjB,qBAAqB;EACrB,cAAc;EACd,qBAAqB;MACjB,4BAA4B;EAChC,oBAAoB;MAChB,gBAAgB;CACrB;AACD;EACE,aAAa;EACb,cAAc;EACd,mBAAmB;EACnB,oBAAoB;EACpB,2BAA2B;EAC3B,iBAAiB;EACjB,eAAe;EACf,gBAAgB;EAChB,mBAAmB;CACpB;AACD;EACE,qBAAqB;EACrB,cAAc;EACd,sBAAsB;MAClB,wBAAwB;EAC5B,uBAAuB;MACnB,oBAAoB;CACzB;AACD;EACE,YAAY;EACZ,aAAa;EACb,8BAA8B;EAC9B,2BAA2B;EAC3B,mCAAmC;EACnC,oCAAoC;EACpC,oBAAoB;EACpB,sDAAsD;EACtD,8BAA8B;CAC/B;AACD;EACE,eAAe;EACf,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,mBAAmB;EACnB,gBAAgB;EAChB,YAAY;EACZ,sBAAsB;CACvB;AACD;EACE,YAAY;CACb;AACD;EACE,iBAAiB;CAClB;AACD;EACE,YAAY;EACZ,aAAa;CACd;AACD;EACE,mBAAmB;EACnB,QAAQ;EACR,cAAc;EACd,YAAY;EACZ,aAAa;EACb,kBAAkB;EAClB,mBAAmB;EACnB,+BAA+B;EAC/B,gBAAgB;EAChB,gCAAgC;CACjC;AACD;EACE,mBAAmB;EACnB,WAAW;EACX,SAAS;CACV;AACD;EACE,mBAAmB;EACnB,YAAY;EACZ,SAAS;CACV;AACD;EACE,UAAU;CACX;AACD;EACE,cAAc;CACf",file:"uploadImg.vue",sourcesContent:["\n@keyframes rotateZ-data-v-d26f176e {\n0% {\n    transform: rotateZ(0);\n}\n100% {\n    transform: rotateZ(360deg);\n}\n}\n.image-upload-view[data-v-d26f176e] {\n  list-style: none;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: start;\n      justify-content: flex-start;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.image-upload-view li[data-v-d26f176e] {\n  width: 200px;\n  height: 200px;\n  margin-right: 22px;\n  margin-bottom: 10px;\n  border: 1px dashed #d9d9d9;\n  border-radius: 0;\n  display: block;\n  cursor: pointer;\n  position: relative;\n}\n.image-upload-view .item-add[data-v-d26f176e] {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.image-upload-view .item-add .loading[data-v-d26f176e] {\n  width: 60px;\n  height: 60px;\n  border-bottom: 6px solid #ccc;\n  border-top: 6px solid #ccc;\n  border-left: 6px solid transparent;\n  border-right: 6px solid transparent;\n  border-radius: 100%;\n  animation: rotateZ-data-v-d26f176e 1s linear infinite;\n  /*animation-fill-mode: both;*/\n}\n.image-upload-view .item-add a[data-v-d26f176e] {\n  display: block;\n  width: 100%;\n  height: 100%;\n  line-height: 200px;\n  text-align: center;\n  font-size: 60px;\n  color: #ccc;\n  text-decoration: none;\n}\n.image-upload-view .item-add:hover a[data-v-d26f176e] {\n  color: #666;\n}\n.image-upload-view .item[data-v-d26f176e] {\n  overflow: hidden;\n}\n.image-upload-view .item img[data-v-d26f176e] {\n  width: 100%;\n  height: 100%;\n}\n.image-upload-view .item .item-btn[data-v-d26f176e] {\n  position: absolute;\n  left: 0;\n  bottom: -30px;\n  width: 100%;\n  height: 30px;\n  line-height: 30px;\n  text-align: center;\n  background: rgba(0, 0, 0, 0.5);\n  transition: .3s;\n  color: rgba(255, 255, 255, 0.6);\n}\n.image-upload-view .item .item-btn .left[data-v-d26f176e] {\n  position: absolute;\n  left: 10px;\n  top: 0px;\n}\n.image-upload-view .item .item-btn .right[data-v-d26f176e] {\n  position: absolute;\n  right: 10px;\n  top: 0px;\n}\n.image-upload-view .item:hover .item-btn[data-v-d26f176e] {\n  bottom: 0;\n}\n.image-upload-file[data-v-d26f176e] {\n  display: none;\n}\n"],sourceRoot:""}])},euW8:function(t,e,n){"use strict";function i(t){n("Fu0i")}Object.defineProperty(e,"__esModule",{value:!0});var a=n("8OoA"),o=n("I2BB"),s=n("VU/8"),A=i,d=s(a.a,o.a,A,"data-v-d26f176e",null);e.default=d.exports},uzBN:function(t,e,n){"use strict";function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new FormData;n.append("file",t);var i=sessionStorage.getItem("token");o.a.request({url:"http://47.96.101.223:8003/main/upload",method:"post",params:{},data:n,headers:{"Content-Type":"multipart/form-data",Authorization:i}}).then(function(t){var n=t.data;return 200==n.code?(e.success&&e.success(n.data.picPath),!0):(e.fail&&e.fail(n.message),!1)}).catch(function(t){return!1})}n.d(e,"a",function(){return s});var a=n("mtWM"),o=n.n(a),s=i}});
//# sourceMappingURL=45.b5bdc0dc725d8f96e7e0.js.map